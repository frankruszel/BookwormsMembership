@page
@model BookwormsMembership.Pages.ResetPasswordModel
@{
	bool isSuccess;
	if (ViewData["isSuccess"] != null)
	{
		isSuccess = (bool)ViewData["isSuccess"]; //trycatch
	}
	else
	{
		isSuccess = false;
	}
}
<div class="container mt-5" >

	<div class="row justify-content-center align-items-center">

		<div class="col-sm-12 col-md-12 col-lg-4">
			<h1 class="mb-3">Reset Password</h1>

			@if (isSuccess == true)
			{
				<div class="alert alert-success" role="alert">
					Password has been changed succesfully
				</div>
			}
			else
			{
			<form method="post" asp-antiforgery="true">
					<div asp-validation-summary="All" class="text-danger"> @Html.ValidationMessage("Reuse") </div>

				<input type="hidden" asp-for="RPModel.UserId" />
				<input type="hidden" asp-for="RPModel.Token" />

				<div class="mb-3">
					<label class="form-label" asp-for="RPModel.NewPassword">New Password</label>
						<input type="password" asp-for="RPModel.NewPassword" class="form-control" required />
					<span asp-validaton-for="RPModel.NewPassword" class="text-danger"></span>
				</div>

				<div class="mb-3">
					<label class="form-label" asp-for="RPModel.ConfirmNewPassword">Confirm New Password</label>
					<input type="password" asp-for="RPModel.ConfirmNewPassword" class="form-control"  required/>
					<span asp-validaton-for="RPModel.ConfirmNewPassword" class="text-danger"></span>
				</div>

				<div class="mb-3">
					<button type="submit" class="btn btn-primary">Reset Password</button>
				</div>

			</form>
			}
		 	
			
		</div>
	</div>
</div>